<?php
use Drupal\mall\Entity\Category;
use Drupal\mall\Entity\Item;
use Drupal\mall\Mall;

function mall_theme() {
	$themes[ 'mall' ] = [
		'variables' => [ 'data' => null],
		'template' => 'mall',
	];
	
	return $themes;
}
	
function mall_preprocess(&$variables, $hook)
{
	$variables['#attached']['library'][] = 'mall/default';
	//$request = \Drupal::request();

	// page classes
	if ( $hook == 'mall' ) {
		$variables['categories'] = Mall::categoryList( $variables );
	}
	else{
		//echo $hook;
	}

}